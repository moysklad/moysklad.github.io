---
title: Краткая инструкция по разработке, отладке и публикации приложений
tags: [api, vendor]
keywords:
summary:
sidebar: vendor_sidebar
permalink: /api/vendor/1.0/instruction.html
folder: vendor
---
На примере iframe- и серверных приложений.

## Разработка iframe-приложений

При разработке iframe-приложения вендору следует определиться по следующим вопросам:

* Будет ли iframe-приложения получать контекст пользователя через Vendor API или, например, будет своя форма 
авторизации (логин-пароль)? Если да (приложение будет получать контекст пользователя через Vendor API) - 
то нужно будет получить secretKey для приложения.
* Насколько будет использоваться UI Kit МоегоСклада для построения пользовательского интерфейса содержимого iframe? 
Приветствуется использование UI Kit МоегоСклада.
* Нужно ли приложению получать оповещения по Vendor API о подключении и отключении приложения на аккаунте 
пользователем? Если да - то нужно будет получить secretKey и на стороне вендора реализовать соответствующий эндпоинт 
Vendor API.

## Разработка серверных приложений

При разработке серверного приложения следует определиться по следующим вопросам:
* Должен ли будет пользователь настраивать приложение при его установке на аккаунт? 
Если да - то нужно реализовать iframe-часть для серверного приложения, по возможности используя UI Kit МоегоСклада.
    * При этом следует получать контекст пользователя, загружающего iframe, через Vendor API. 
    Только так можно достоверно узнать какой пользователь какого аккаунта загрузил iframe. А также из информации по 
    контексту пользователя можно узнать, является ли пользователь администратором аккаунта и, например, 
    показывать форму настроек только для такого пользователя (являющегося администратором аккаунта). 
* Будет ли в iframe-части серверного приложения какой-либо пользовательский функционал кроме настроек? Если да - то,
 возможно, следует предусмотреть, чтобы пользовательский функционал был доступен не только администратору аккаунта 
 (как, например, настройки), но и другим пользователям аккаунта (всем или с определенными правами).
* Нужны ли дополнительные поля для сущностей и/или документов? Если да - то можно будет их создавать через JSON API 
1.2 в рамках активации приложения. Здесь скорее всего потребуется использовать сценарий асинхронной активации 
(с возвратом статуса Activating).

Также заметим, что для серверных приложений является обязательным реализация эндпоинта /api/moysklad/vendor/1.0/apps 
(см. [Vendor API](https://dev.moysklad.ru/doc/api/vendor/1.0/)) на стороне вендора и предполагается, что 
серверное приложение будет взаимодействовать с МоимСкладом по JSON API 1.2 с авторизацией по токену (передаваемому 
приложению по Vendor API при активации).

Так как серверное приложение предполагает взаимодействие по Vendor API, то нужно будет получить secretKey для приложения.

## Карточка вендора

Карточка вендора - это Google Sheets таблицы, через которые происходит обмен информацией между вендором и 
МоимСкладом по приложениям.
Каждому вендору будет предоставлен доступ к своей карточке. Там на первой вкладке “Вендор - информация” нужно 
будет заполнить форму с информацией по вендору в целом. Для каждого своего приложения вендору нужно сделать копию 
вкладки “Приложение - ШАБЛОН”, переименовать вкладку (вместо “ШАБЛОН” указать название приложения) и заполнить форму с 
информацией по приложению. 

## Отладка приложений на аккаунтах разработчика

Отладка неопубликованных приложений выполняется вендором на специальном аккаунте(ах), привязанных к вендору. 
На таких аккаунтах неопубликованные приложения вендора появляются в специальном отдельном блоке на витрине приложений. 
И неопубликованные приложения можно подключать и отключать так же, как и обычные опубликованные приложения.

Привязка аккаунтов к вендору осуществляется через сотрудника МоегоСклада.  

## Общая схема процесса размещения приложения в Маркетплейсе

После готовности приложения на стороне вендора в общем случае вендору нужно выполнить следующие шаги по размещению 
приложения в Маркетплейсе:
1. Заполнить карточку приложения
2. Оповестить сотрудника МоегоСклада о готовности приложения к тестированию
3. Получить от сотрудника МоегоСклада secretKey для приложения, если для приложения предполагается взаимодействие 
по Vendor API (оповещение по активации и деактивации, получение контекста пользователя для iframe)
4. Протестировать и отладить приложение на аккаунте разработчика
5. Оповестить сотрудника МоегоСклада о готовности приложения к публикации
6. Сотрудник МоегоСклада смотрит на приложение и при отсутствии замечаний публикует его на витрине приложений

