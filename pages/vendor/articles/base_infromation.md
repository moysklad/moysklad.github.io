---
title: Общая информация
tags: [api, vendor]
keywords:
summary:
sidebar: vendor_sidebar
permalink: /api/vendor/1.0/base_information.html
folder: vendor
---
## Типы приложений в Маркетплейсе

Тип приложения определяет в первую очередь технический способ интеграции приложения с МоимСкладом.

Поддерживаемые на текущий момент типы приложений:
+ Телефония (Phone API)
+ Iframe-приложения
+ Серверные приложения
+ Интеграция с системами лояльности (Loyalty API)

### Сводная таблица поддержки функций для типов приложений

| Тип приложения | Количество приложений на аккаунте | Iframe и доступ к контексту пользователя | Активация и деактивация по Vendor API | Доступ по токену к JSON API 1.2 | Отладка на аккаунтах разработчика | Phone API | Loyalty API | Блок на витрине приложений 
|----|----|----|----|----|----|----|----|----|
|Телефония|1| |+| |+|+| | Звонки |  
|Iframe-приложения|Не ограничено|+| + | | + | | |Другие|  
|Серверные приложения|Не ограничено|+|+|+|+| | |Другие|  
|Системы лояльности|1| | | | | |+|Скидки|  

### Iframe-приложения

Iframe-приложение представляет собой веб-приложение, которое загружается по указанному вендором URL в iframe на 
отдельной вкладке/странице внутри UI МоегоСклада.

Для iframe-приложения доступно получения контекста текущего пользователя МоегоСклада (через Vendor API) - 
то есть можно узнать, какой именно пользователь какого аккаунта открывает приложение в UI МоегоСклада.

Также для iframe-приложений поддерживается активация и деактивация по Vendor API.

В общем случае жесткие требования к внешнему виду / визуальному дизайну iframe-приложений отсутствуют. 
Тем не менее приветствуется визуальное соответствие дизайну МоегоСклада. Для этого мы разрабатываем 
UI Kit (см. скриншот), который будет доступен в том или ином виде в ближайшем будущем.


![useful image]({{site.url}}/images/vendor/ui-kit.png)

Одновременно на аккаунте может быть подключено несколько iframe-приложений.

Доступна отладка на аккаунтах разработчика.

### Серверные приложения

Серверные приложения - это приложения, основной функционал которых основан на обмене данными с МоимСкладом по JSON API.
 Для этого при активации приложения по Vendor API на сервер вендора передается токен доступа к JSON API 1.2 
 (доступ по токену поддерживается только в JSON API 1.2).
 
Для серверных приложений поддерживается активация и деактивация по Vendor API.

Также серверным приложениям доступен функционал iframe-приложений, а именно: серверное приложение может иметь
 свою вкладку среди iframe-приложений и, соответственно, получать контекст текущего пользователя МоегоСклада.
 Используя данную возможность можно, например, реализовать управление настройками приложения со стороны 
 пользователя МоегоСклада / администратора аккаунта. При построении пользовательского интерфейса в iframe 
 желательно использовать UI Kit МоегоСклада.

Одновременно на аккаунте может быть подключено несколько серверных приложений.

Доступна отладка на аккаунтах разработчика.

### Телефония

Эти приложения представляют собой интеграцию с внешними сервисами телефонии по Phone API: 
[https://online.moysklad.ru/api/phone/1.0/doc/index.html](https://online.moysklad.ru/api/phone/1.0/doc/index.html)

Приложения телефонии на витрине приложений размещаются в блоке “Звонки”.

Возможна активация и деактивация приложений телефонии по Vendor API. На текущий момент возможность получения доступа 
по токену к JSON API у приложений телефонии отсутствует (в перспективе такая возможность может появится).

Одновременно на аккаунте может быть подключено только одно приложение телефонии.

Доступна отладка на аккаунтах разработчика.

### Интеграция с системами лояльности

API для интеграции МоегоСклада с системами лояльности и внешними сервисами управления скидками: 
[https://msloyaltyapi.docs.apiary.io](https://msloyaltyapi.docs.apiary.io)
 
Данный тип приложений размещается на витрине в отдельном блоке “Скидки”.

Одновременно на аккаунте может быть подключено только одно приложение интеграции с системами лояльности.
 
На текущий момент для данного типа приложений недоступны возможности Маркетплейса (iframe, Vendor API,
 доступ по токену к JSON API, отладка на аккаунтах разработчика), так как данный тип приложений еще не заведен на 
 механизмы Маркетплейса (но возможно ручное размещение приложений данного типа на витрине приложений).

## Платные и бесплатные приложения

На текущий момент в Маркетплейсе поддерживаются только бесплатные приложения. Бесплатные в том смысле, 
что на текущий момент в рамках МоегоСклада отсутствует механизм взимания оплаты за приложения с пользователей
МоегоСклада. Тем не менее, вендор может брать оплату с пользователей приложений самостоятельно. Конкретный механизм 
самостоятельного взимания оплаты и его реализация остается на усмотрение вендора и не рассматривается в данном документе.

В ближайшее время (предположительно к осени 2019 года) в Маркетплейсе будет реализована ограниченная поддержка 
платных приложений. В рамках нее будет доступен только один фиксированный вариант стоимости для всех платных приложений
в системе (например, 500 рублей в месяц). Эта оплата будет взиматься с пользователей в виде платной опции в рамках
 их подписки на МойСклад, поэтому здесь также как на подписку будут применяться скидки за оплату на 3, 6 и 12 месяцев.

Вендор будет получать 75% от стоимости своих приложений с учетом скидок и комиссий, использованных за месяц. 
Например, если приложение стоимостью 500 руб было оплачено на год со скидкой 15%, вендор будет получать
 ежемесячно 500 * 0,85 * 0,75 = 318,75 руб. 
 
В дальнейшем возможно изменение доли вендора в ту или иную сторону.

В дальнейшей перспективе (предположительно к концу 2019 года) будет реализован более гибкий биллинг приложений 
Маркетплейса, не привязанный в общем случае к подписке на МойСклад и в том числе позволяющий устанавливать вендорам 
произвольную стоимость приложений.

## Жизненный цикл приложения

На текущий момент для приложения Маркетплейса предусмотрены следующие статусы жизненного цикла:
+ _Draft_ - статус черновика, предназначен для разработки и тестирования, приложение не отображается на витрине
 у пользователей МоегоСклада.
+ _Ready_ - статус готовности, означает, что приложение со стороны вендора готово к публикации (далее приложение будет 
промодерировано сотрудниками МоегоСклада и опубликовано), приложение все еще не отображается на витрине у пользователей 
МоегоСклада.
+ _Published_ - приложение опубликовано на витрине приложений и доступно к установке пользователями МоегоСклада.
+ _Suspended_ - публикация приложения приостановлена. Приложение в статусе Suspended исчезает с витрины, но 
установленные на аккаунтах приложения продолжают работать.
+ _Disabled_ - приложение полностью выключено. Приложение в этом статусе снимается с публикации на витрине, 
установленные на аккаунтах приложения отключаются, выданные приложению доступы к ресурсам аккаунтов (например, к 
JSON API) аннулируются.

Жизненный цикл приложения выглядит следующим образом:

1. Приложение создается в Маркетплейсе со статусом Draft. Вендор проверяет и отлаживает работу 
приложения на аккаунте разработчика. По готовности приложения вендор отправляет/передает его на публикацию, 
статус приложения меняется на Ready.
2. Сотрудники МоегоСклада проверяют приложение и, в случае отсутствия замечаний, публикуют приложение на витрине,
 статус приложения меняется на Published. Приложение становится доступно для установки пользователями МоегоСклада.
3. Пользователи МоегоСклада подключают/устанавливают приложение на свой аккаунт, выполняют его настройку 
(если таковая опция имеется в приложении), пользуются приложением и, если оно становится ненужным, отключают/удаляют 
приложение с аккаунта. 
4. Если по каким-то причинам приложение требуется убрать с витрины приложений, то оно переводится в статус Suspended. 
Установленные до этого момента экземпляры приложений на аккаунтах продолжают работать.
5. Для полного отключения всех существующих экземпляров приложения предусмотрен статус Disabled.
